  \chapter{Erweiterte ER Modellierung}
    \setcounter{page}{1}\kapitelnummer{chapter}
    \minitoc
\newpage
    In diesem Abschnitt wird das ER-Modell um die drei Eigenschaften Rekursion, Spezialisierung und Generalisierung erweitert, so dass eine umfangreichere und genauere Beschreibung des betrachteten Gegenstandbereichs m\"oglich ist.

    \section{Rekursive Beziehungen}
      H\"aufig ist es wichtig und notwendig den sachlogischen Zusammenhang zwischen zwei Objekten festzuhalten, die beide demselben Objekttyp angeh\"oren. So ist es f\"ur ein Unternehmen n\"utzlich zu wissen, welcher Mitarbeiter durch welche anderen Mitarbeiter - im Krankheits- oder Urlaubsfall - vertreten werden kann.

      \subsection{Definition eines rekursiven Beziehungstyps}
        \begin{merke}
          Ein rekursiver Beziehungstyp beschreibt den sachlogischen Zusammenhang zwischen Objekten, die dem gleichen Objekttyp angeh\"oren.
        \end{merke}

        F\"ur einen rekursiven Beziehungstyp sind dieselben Angaben erforderlich, wie f\"ur einen bin\"aren. Somit ist f\"ur einen solchen Beziehungstyp folgendes festzulegen (siehe \ref{naming_optionaliy_kardinality}):
        \begin{enumerate}
          \item eine aussagekr\"aftige Benennung
          \item eine Angabe zur Optionalit\"at
          \item eine Angabe zur Kardinalit\"at
        \end{enumerate}
        Bei der traditionellen Informationsspeicherung, mit Hilfe von Karteik\"artchen, wird der rekursive Beziehungstyp durch Querverweise, innerhalb des Karteikastens, realisiert. Im betrachteten Vertretungsbeispiel w\"urden auf der Karteikarte des Mitarbeiters die Personalnummern seiner m\"oglichen Vertreter notiert werden.

      \subsection{Syntaxregeln f\"ur rekursive Beziehungstypen}
        \label{syntaxofrecursiverelationtypes}
        \begin{itemize}
          \item Ein rekursiver Beziehungstyp zur Kennzeichnung eines sachlogischen Zusammenhangs zwischen den Objekten ein- und desselben Objekttyps A wird als eine Verbindungslinie dargestellt, die den Objekttyp A mit sich selbst verbindet. Diese Form der Verbindungslinie, die aus A austritt und zu A zur\"uckf\"uhrt, ist der Anlass f\"ur die Bezeichnung \enquote{rekursiv}\footnote{rekursiv = zur\"uckf\"uhrend}
          \item Die Benennung des Beziehungstyps steht in einer Raute, am Beziehungstyp (siehe \ref{naming_optionaliy_kardinality})
          \item Optionalit\"at und Kardinalit\"at der jeweiligen Beziehungstyp-Richtung werden in gleicher Weise angegeben, wie beim bin\"aren Beziehungstyp.
        \end{itemize}
        \begin{center}
          \scalebox{.7}{
            \begin{tikzpicture}[node distance=1.5cm, every edge/.style={link}]
              \node[entity](A){Soldat};
              \node[relationship](rel1)[right = of A]{Relation};
              \draw[link] (A.north) |- ($(A.north) +(0.5, 1)$) -| node [pos=0.4, auto, swap,yshift=0.75cm] {(0,1)} (rel1.north);
              \draw[link] (A.south) |- ($(A.south) + (0.5,-1)$) -| node [pos=0.4, auto, yshift=-0.75cm] {(0,*)} (rel1.south);
            \end{tikzpicture}
          }
        \end{center}
        Setzt man beim F\"uhrungsverh\"altnis der Soldaten voraus, dass ein Soldat von h\"ochstens einem anderen Soldaten gef\"uhrt wird und dass er selbst mehrere Soldaten f\"uhren kann, dann ergibt sich das folgende Datenmodell.
        \begin{center}
          \scalebox{.7}{
            \begin{tikzpicture}[node distance=1.5cm, every edge/.style={link}]
              \node[entity](A){Soldat};
              \node[relationship](rel1)[right = of A]{F\"uhrung};
              \draw[link] (A.north) |- ($(A.north) +(0.5, 1)$) -| node [pos=0.4, auto, swap,yshift=0.75cm] {(0,1) wird gef\"uhrt} (rel1.north);
              \draw[link] (A.south) |- ($(A.south) + (0.5,-1)$) -| node [pos=0.4, auto, yshift=-0.75cm] {(0,*) f\"uhrt} (rel1.south);
            \end{tikzpicture}
          }
        \end{center}
        Bei rekursiven Beziehungen ist eine genauere Beschreibung der Beziehungstyp-Richtung notwendig. Im o. a. Beispiel wird der Sachverhalt \enquote{F\"uhrung} durch \enquote{f\"uhrt} und \enquote{wird gef\"uhrt} n\"aher erl\"autert.

        Die Angaben sind folgenderma\ss en zu lesen:
        \begin{itemize}
          \item Ein Soldat \enquote{f\"uhrt} keinen oder mehrere andere Soldaten und
          \item ein Soldat \enquote{wird gef\"uhrt} von h\"ochstens einem anderen Soldaten
        \end{itemize}
        Betrachtet man bei diesem Beziehungstyp Kardinalit\"at und Optionalit\"at, stellt sich nach einiger \"Uberlegung die Frage, ob alle Kombinationen, welche bei den bin\"aren Beziehungstypen existieren, auch bei rekursive wiederzufinden sind.

        Die Besonderheit eines rekursiven Beziehungstyps gegen\"uber einem bin\"aren Beziehungstyp, der Objekttyp A und B miteinander verkn\"upft, besteht darin, dass die Objekttypen A und B identisch sind. Somit sind rekursive Beziehungstypen nur dann m\"oglich, wenn die Objekttypen A und B, die Mengen von Objekten repr\"asentieren, die dieselbe M\"achtigkeit besitzen k\"onnen.
\clearpage
        \begin{merke}
          Die M\"achtigkeit eines Objekttyps beschreibt die genaue Anzahl der in ihm zusammengefassten Objekte.
        \end{merke}
        An dieser Stelle soll dieser Sachverhalt nicht n\"aher erl\"autert, sondern nur das f\"ur die Modellierung relevante Ergebnis betrachtet werden.

        Die \tabelle{combinationsrecurisverelationtyps} \enquote{M\"ogliche Kombinationen von rekursiven Beziehungstypen} zeigt, in der\\ (Min,Max)-Notation, die m\"oglichen Kombinationen von Kardinalit\"at und Optionalit\"at und trifft eine Aussage, \"uber die Verwendungsm\"oglichkeit bei rekursiven Beziehungstypen.

        \tablefirsthead{%
          \multicolumn{1}{l}{\textbf{Beziehungstyp}} &
          \multicolumn{1}{l}{\textbf{Verwendung bei rekursiven Beziehungstypen}} \\
        }
        \tablecaption{M\"ogliche Kombinationen von rekursiven Beziehungstypen}
        \label{combinationsrecurisverelationtyps}
        \begin{supertabular}[h]{lp{5cm}}
          (1,1):(1,1) & m\"oglich\\
          (1,1):(0,1) & nicht m\"oglich\\
          (0,1):(0,1) & m\"oglich\\
          (1,1):(1,*) & nicht m\"oglich\\
          (0,1):(1,*) & nicht m\"oglich\\
          (1,1):(0,*) & m\"oglich\\
          (0,1):(0,*) & m\"oglich\\
          (1,*):(1,*) & m\"oglich\\
          (1,*):(0,*) & m\"oglich\\
          (0,*):(0,*) & m\"oglich\\
        \end{supertabular}

        Die sieben m\"oglichen Kombinationen werden, im sp\"ateren Verlauf
        dieser Unterlage (Kapitel 4 Transformation), im Zusammenhang mit ihrer
        Repr\"asentation im physischen Datenbankmodell, der Reihe nach
        untersucht und durch Beispiele veranschaulicht.
      \section{Anwendung rekursiver Beziehungstypen}
        Hier soll nun gezeigt werden, wie
        \tabelle{combinationsrecurisverelationtyps} hilft, in der Praxis Fehler
        zu vermeiden. Die n\"achste Abbildung zeigt zwei Entit\"aten (Version A
        und B), die das Verh\"altnis der Soldaten bzgl. F\"uhrung und gef\"uhrt
        werden darstellen sollen.
        
        \begin{center}
          \scalebox{.7}{
            \begin{tikzpicture}[node distance=1.5cm, every edge/.style={link}]
              \node[entity](A){Soldat};
              \node[relationship](rel1)[right = of A]{F\"uhrung};
              \draw[link] (A.north) |- ($(A.north) +(0.5, 1)$) -| node [pos=0.4, auto, swap,yshift=0.75cm] {(1,1) wird gef\"uhrt} (rel1.north);
              \draw[link] (A.south) |- ($(A.south) + (0.5,-1)$) -| node [pos=0.4, auto, yshift=-0.75cm] {(1,*) f\"uhrt} (rel1.south);
            \end{tikzpicture}
          }
        \end{center}
         \begin{center}
          \scalebox{.7}{
            \begin{tikzpicture}[node distance=1.5cm, every edge/.style={link}]
              \node[entity](A){Soldat};
              \node[relationship](rel1)[right = of A]{F\"uhrung};
              \draw[link] (A.north) |- ($(A.north) +(0.5, 1)$) -| node [pos=0.4, auto, swap,yshift=0.75cm] {(0,1) wird gef\"uhrt} (rel1.north);
              \draw[link] (A.south) |- ($(A.south) + (0.5,-1)$) -| node [pos=0.4, auto, yshift=-0.75cm] {(0,*) f\"uhrt} (rel1.south);
            \end{tikzpicture}
          }
        \end{center}
        
        Beide Versionen sollen bez\"uglich der n\"achst genannten Fragen
        untersucht werden:
        \begin{itemize}
          \item Was sagen die Versionen aus?
          \item Wird die Realit\"at richtig abgebildet?
          \item Kann man sie realisieren (gem\"a\ss\ \tabelle{combinationsrecurisverelationtyps})?
        \end{itemize}
        \subsection{Version A}
          \subsubsection{Was sagt die Version aus?}
            Ein Soldat f\"uhrt mindestens einen oder mehrere andere Soldaten und ein Soldat wird von genau einem anderen Soldaten gef\"uhrt.

            In dieser Abbildung der Realit\"at gibt es nur Vorgesetzte, da jeder Soldat immer mindestens einen anderen f\"uhrt.

          \subsubsection{Wird die Realit\"at richtig abgebildet?}
            Es gibt laut Version A nur solche Soldaten, die andere f\"uhren. Doch in der Realit\"at ist dies sicherlich nicht der Fall, da z.B. ein Soldat in der Grundausbildung nicht immer  einen anderen Soldaten f\"uhren wird. In der anderen Fragerichtung muss man ebenfalls alle Soldaten betrachten. Die Aussage, dass ein Soldat von genau einem anderen gef\"uhrt wird, betrachtet den Chef der Einheit nicht. Dieser sollte, in Bezug auf die eigene Einheit, keinen Vorgesetzten haben.

            Es zeigt sich, dass die Realit\"at mit sehr hoher Wahrscheinlichkeit nicht korrekt abgebildet wurde. Ausnahmen kann es nat\"urlich jederzeit geben.
          \subsubsection{Kann man sie realisieren?}
            \tabelle{combinationsrecurisverelationtyps} trifft, was die Realisierung in einem relationalem Datenbanksystem angeht, in Zeile 4 die klare Aussage, dass es nicht m\"oglich ist. Man kann anhand der Tabelle schon einen Hinweis auf evtl. Fehler in der Modellierung finden.
        \subsection{Version B}
          \subsubsection{Was sagt die Version aus?}
            Ein Soldat f\"uhrt null oder mehrere Untergebene und ein Soldat wird von null oder h\"ochstens einem anderen Soldaten gef\"uhrt. Dabei kann es sich entweder um den Chef oder einen Untergebenen handeln.
          \subsubsection{Wird die Realit\"at richtig abgebildet?}
            Version B stellt die M\"oglichkeit bereit, dass in der Tabelle Soldat sowohl der Chef als auch die Untergebenen aufgef\"uhrt werden k\"onnen, was sich darin widerspiegelt, dass ein Soldat keinen oder h\"ochstens einen Chef haben kann und ein Soldat keinen oder mehrere Soldaten f\"uhren kann. Dies entspricht, nach der allgemeinen Auffassung, der Realit\"at.
          \subsubsection{Kann man sie realisieren?}
            In \tabelle{combinationsrecurisverelationtyps} gibt in diesem Fall Zeile 7 die Auskunft, dass eine rekursive Beziehung mit diesen Kardinalit\"aten m\"oglich ist. Eine Best\"atigung, dass die Realit\"at mit gro\ss er Wahrscheinlichkeit richtig modelliert wurde. Eine hundertprozentige Aussage \"uber richtig oder falsch kann man in diesem Verfahren jedoch nicht treffen.
    \section{Spezialisierung}
      \label{specialization}
       Die Spezialisierung ist eine Vorgehensweise, die Objekttypen als Mengen
       betrachtet. Es kann f\"ur die ER-Modellierung unter Umst\"anden sinnvoll
       sein, eine Menge in mehrere Teilmengen zu zerlegen. Eine solche Zerlegung
       wird meist dann vorgenommen, wenn die Teilmengen eigene Attribute haben,
       die nur in den jeweiligen Teilmengen vorkommen. Auf diese Weise werden
       leere Felder in der Datenbank, sog. NULL-Werte vermieden, da m\"oglichst
       immer alle Attribute mit Werten bef\"ullt werden. Ein Beispiel hierzu:

       Die Menge aller Personen an einer Universtit\"at enth\"alt die beiden
       Teilmengen \enquote{Student} und \enquote{WiMa}\footnote{WiMa =
       Wissenschaftlicher Mitarbeiter}. Die Menge \enquote{Person} wird als
       \enquote{Supertyp}, der \"ubergeordnetet Objekttyp, bezeichnet und die
       beiden Teilmengen \enquote{Student} und \enquote{WiMa} als
       \enquote{Subtyp}, die untergeordneten Objekttypen.
\clearpage
       Ein Student besitzt eine Matrikelnummer, mit der er an der Universit\"at
       registriert wurde. Der WiMa besitzt diese nicht, bezieht aber ein Gehalt
       f\"ur seine wissenschaftlichen Studienarbeiten. Ein Attribut
       \enquote{Gehalt} macht f\"ur den Studenten keinen Sinn, da er keines
       empf\"angt und der WiMa ben\"otigt keine Matrikelnummer. Durch die
       Trennung von \enquote{Person} in \enquote{Student} und \enquote{WiMa}
       werden unn\"otige NULL-Werte in der Datenbank vermieden.

      Wie so vieles im Leben ist das Spezialisieren von Objekttypen jedoch
      nicht ganz so einfach, wie es im ersten Moment scheint. Bevor auf die
      insgesamt vier verschiedenen Variationen dieses Verfahrens eingegangen
      werden kann, werden noch einige Definitionen ben\"otigt.
      \subsection{Definitionen}
        \subsubsection{Disjunkt}
          Ein System von Subtypen und Supertypen heisst disjunkt, wenn die
          einzelnen Subtypen keine gemeinsamen Elemente haben, d. h. ein
          Datensatz kann nur in einem der Subtypen auftreten.
        \subsubsection{Vollst\"andige \"Uberdeckung}
          Ein System von Subtypen und Supertypen nennt man vollst\"andig, wenn
          der Supertyp keine eigenen Elemente enth\"alt, also jedes Element in
          einem der Subtypen enthalten ist.

          \begin{merke}
            Die beiden Begriffe \enquote{Disjunkt} und \enquote{Vollst\"andige
            \"Uberdeckung} werden als Konsistenzbedingungen bezeichnet.
            Konsistenzbedingungen ergeben sich entweder aus feststehenden
            Tatsachen oder sie m\"ussen durch den Designer definiert werden!
          \end{merke}

      \subsection{Kombinationen}
        Die Unter- und Obermengenbeziehungen lassen sich mit diesen Begriffen in
        vier verschiedene Systeme einteilen:
        \begin{enumerate}
          \item Vollst\"andige \"Uberdeckung und \"Uberlappung nicht zugelassen (= disjunkt, kein gemeinsames Element)
          \item Vollst\"andige \"Uberdeckung und \"Uberlappung zugelassen (= nicht disjunkt, gemeinsame Elemente m\"oglich)
          \item Nicht vollst\"andige \"Uberdeckung und \"Uberlappung nicht zugelassen (= disjunkt)
          \item Nicht vollst\"andige \"Uberdeckung und \"Uberlappung zugelassen (= nicht disjunkt)
        \end{enumerate}
        Es handelt sich bei der Spezialisierung um den Sonderfall eines 1:1
        Beziehungstyps mit besonderer Semantik. Es werden nun die oben
        angesprochenen F\"alle erl\"autert und anhand von Beispielen, die immer
        zwei Untermengen angeben, veranschaulicht. In der Realit\"at kann es
        nat\"urlich weitere spezialisierte Objekttypen geben.
      \subsection{Vollst\"andige \"Uberdeckung und Disjunkt}
        \label{complette_disjunkt}
        Wenn man die Objektmengen dieser 1. Beziehungsart grafisch darstellt,
        ergibt sich diese Abbildung:

        \begin{center}
          \scalebox{.7}{
            \begin{tikzpicture}[node distance=1.5cm]
              \node[auto,swap](C) at (2.25, -2){\huge Menge C};
              \node[circleA](A) at (0,0){Menge A};
              \node[circleB](B) at (4,0){Menge B};
            \end{tikzpicture}
          }
        \end{center}
        Die Objektmenge C besteht hier vollst\"andig aus den Objektmengen A und
        B, d. h. es gibt keine Elemente, die den beiden Mengen A und B nicht
        zuordenbar sind. Des Weiteren gibt es keine Schnittmenge zwischen A und
        B.

        $C := \{x \mid ((x \in A) \wedge (x \notin B)) \vee ((x \in B) \wedge (x \notin A))\}$

        Dieser Fall wird im ER-Modell folgenderma\ss en dargestellt.
        \begin{center}
          \scalebox{.7}{
            \begin{tikzpicture}[node distance=1.5cm, every edge/.style={link}]
              \node[entity](obj1){Supertyp};
              \node[isa](isa) [below = of obj1]{ISA} edge node[auto] {(0,1) (1,1) disjunkt}(obj1);
              \node[entity](obj2)[below left = of isa]{Subtyp 1};
              \node[entity](obj3)[below right = of isa]{Subtyp 2};
              \path[draw, -] (isa.west) -| (obj2.north);
              \path[draw, -] (isa.east) -| (obj3.north);
            \end{tikzpicture}
          }
        \end{center}
        \begin{merke}
          Spezifische oder lokale Attribute h\"angen an den Untermengen, dies sind hier die Subtypen 1 und 2.
        \end{merke}
          Der Supertyp (Person) umfasst alle Angestellten einer Universit\"at.
          Der Subtyp 1 (Student) beinhaltet alle Studenten dieser Universit\"at
          und der Subtyp 2 (WiMa) beinhaltet alle wissenschaftlichen Mitarbeiter
          (WiMa) einer Universit\"at. Es existieren im Supertyp \enquote{Person}
          nur Objekte, deren identifizierendes Attribut als Fremdschl\"ussel
          entweder im Subtyp \enquote{Student} oder im Subtyp \enquote{WiMa}
          vorkommt. Die drei folgenden Tabellen zeigen verschiedene
          Auspr\"agungen der Subtypen.
\clearpage
          \tablefirsthead{%
            \multicolumn{1}{l}{\textbf{Person\_ID}} &
            \multicolumn{1}{l}{\textbf{Vorname}} &
            \multicolumn{1}{l}{\textbf{Nachname}} &
            \multicolumn{1}{l}{\textbf{Geburtsdatum}}\\
          }
          \tablecaption{Person}
          \begin{supertabular}[h]{llll}
            1 & Heinz & Meier & 01.02.1990 \\
            2 & Michael & Schulz & 02.05.1980 \\
            3 & Frank & Bertling & 04.10.1981 \\
            4 & Hans & Fasshauer & 07.09.1991 \\
          \end{supertabular}

          \tablefirsthead{%
            \multicolumn{1}{l}{\textbf{Person\_ID}} &
            \multicolumn{1}{l}{\textbf{Matrikelnummer}} \\
          }
          \tablecaption{Student}
          \begin{supertabular}[h]{lp{5cm}}
            1 & 65420\\
            4 & 66530\\
          \end{supertabular}

          \tablefirsthead{%
            \multicolumn{1}{l}{\textbf{Person\_ID}} &
            \multicolumn{1}{l}{\textbf{Gehalt}} \\
          }

          \tablecaption{WiMa}
          \begin{supertabular}[h]{lp{5cm}}
            2 & 3000\\
            3 & 3150\\
          \end{supertabular}

          Zusammenfassend ergibt sich f\"ur den 1. Fall die folgende Abbildung:

          \begin{center}
            \scalebox{.7}{
              \begin{tikzpicture}
                \node[entity](obj1){Person};
                \node[isa](isa) [below = of obj1]{ISA} edge node[auto] {(0,1) (1,1) disjunkt}(obj1);
                \node[entity](obj2)[below left = of isa]{Student};
                \node[entity](obj3)[below right = of isa]{WiMa};
                \path[draw, -] (isa.west) -| (obj2.north);
                \path[draw, -] (isa.east) -| (obj3.north);
              \end{tikzpicture}
            }
          \end{center}
\vspace{\baselineskip}
          \begin{center}
            \scalebox{.6}{
              \begin{tikzpicture}[node distance=1.5cm]
                \node[auto,swap](C) at (2.25, -2.5){\huge Person};
                \node[circleA](A) at (0,0){Student};
                \node[circleB](B) at (5,0){WiMa};
              \end{tikzpicture}
            }
          \end{center}

          \begin{merke}
            Es m\"ussen zus\"atzliche programmtechnische Ma\ss nahmen getroffen werden, um sicherzustellen, dass jedes Objekt des Supertyps genau ein zugeh\"origes Objekt in Subtyp 1 oder Subtyp 2 besitzt.
          \end{merke}
      \subsection{Vollst\"andige \"Uberdeckung und nicht Disjunkt}
        Wenn man die Objektmengen dieser 2. Beziehungsart grafisch darstellt, ergibt sich die folgende Abbildung:

        \begin{center}
          \scalebox{.6}{
            \begin{tikzpicture}[node distance=1.5cm]
              \node[auto,swap](C) at (1.5,-0.5) {\huge Menge C};
              \node[circleA](A) at (0,2) {Menge A};
              \node[circleB](B) at (2,2) {Menge B};
            \end{tikzpicture}
          }
        \end{center}
        Hier besteht die Objektmenge C ebenfalls vollst\"andig aus den Objektmengen A und B, was widerum hei\ss{}t, dass es keine Elemente gibt, die den beiden Mengen A und B nicht zuordenbar sind.

        Der Unterschied zu Fall 1 ist, dass es hier eine Schnittmenge zwischen A und B gibt.

        Fall 2 wird im ER-Modell sehr \"ahnlich dargestellt, wie Fall 1, nur mit dem Unterschied, dass das Schl\"usselwort \enquote{Disjunkt} entf\"allt.
        \begin{center}
          \scalebox{.6}{
            \begin{tikzpicture}[node distance=1.5cm, every edge/.style={link}]
              \node[entity](obj1){Supertyp};
              \node[isa](isa) [below = of obj1]{ISA} edge node[auto] {(0,1) (1,1)}(obj1);
              \node[entity](obj2)[below left = of isa]{Subtyp 1};
              \node[entity](obj3)[below right = of isa]{Subtyp 2};
              \path[draw, -] (isa.west) -| (obj2.north);
              \path[draw, -] (isa.east) -| (obj3.north);
            \end{tikzpicture}
          }
        \end{center}

          Nun soll das im vorigen Abschnitt eingef\"uhre Beispiel herangezogen werden. Als \"Anderung soll ein WiMa an der selben Universit\"at auch noch studieren k\"onnen.
\vfil
          \tablefirsthead{%
            \multicolumn{1}{l}{\textbf{Person\_ID}} &
            \multicolumn{1}{l}{\textbf{Vorname}} &
            \multicolumn{1}{l}{\textbf{Nachname}} &
            \multicolumn{1}{l}{\textbf{Geburtsdatum}} \\
          }
          \tablecaption{Person}
          \begin{supertabular}[h]{llll}
            1 & Heinz & Meier & 01.02.1990 \\
            2 & Michael & Schulz & 02.05.1980 \\
            3 & Frank & Bertling & 04.10.1981 \\
            4 & Hans & Fasshauer & 07.09.1991 \\
            5 & Tobias & Schreiber & 20.07.1983 \\
          \end{supertabular}
\vfil
          \tablefirsthead{%
            \multicolumn{1}{l}{\textbf{Person\_ID}} &
            \multicolumn{1}{l}{\textbf{Matrikelnummer}} \\
          }
          \tablecaption{Student}
          \begin{supertabular}[h]{lp{5cm}}
            1 & 65420\\
            4 & 66530\\
            5 & 66460\\
          \end{supertabular}

          \tablefirsthead{%
            \multicolumn{1}{l}{\textbf{Person\_ID}} &
            \multicolumn{1}{l}{\textbf{Gehalt}} \\
          }
          \tablecaption{WiMa}
          \begin{supertabular}[h]{lp{5cm}}
            2 & 3000\\
            3 & 3150\\
            5 & 2900\\
          \end{supertabular}

          Die Person mit der Nummer 5 ist ein studierender WiMa, welcher ein Aufbaustudium an der selben Univesit\"at absolviert und geh\"ort sowohl dem Subtyp \enquote{Student} als auch dem Subtyp \enquote{WiMa} an. Als identifizierendes Attribut wird die Eigenschaft \enquote{Person\_ID} verwendet. Es ergibt sich f\"ur das Beispiel die folgende Abbildung:
          \begin{center}
            \scalebox{.7}{
              \begin{tikzpicture}
                \node[entity](obj1){Person};
                \node[isa](isa) [below = of obj1]{ISA} edge node[auto] {(0,1) (1,1)}(obj1);
                \node[entity](obj2)[below left = of isa]{Student};
                \node[entity](obj3)[below right = of isa]{WiMa};
                \path[draw, -] (isa.west) -| (obj2.north);
                \path[draw, -] (isa.east) -| (obj3.north);
              \end{tikzpicture}
            }
          \end{center}
\vspace{\baselineskip}
          \begin{center}
            \scalebox{.7}{
              \begin{tikzpicture}
                \node[circleA](A) at (0,2) {Student};
                \node[circleB](B) at (2,2) {WiMa};
              \end{tikzpicture}
            }
          \end{center}
      \subsection{Nicht vollst\"andige \"Uberdeckung und Disjunkt}
        In Fall Nummer 3 besteht die Obermenge C aus den beiden Teilmengen A und B, jedoch ist es m\"oglich, dass in der Menge C Elemente existieren, die nicht den Mengen A und B angeh\"oren. Da sich A und B disjunkt verhalten existiert keine Schnittmenge zwischen A und B.

        $C := \{x \mid (((x \in A) \wedge (x \notin B)) \vee ((x \in B) \wedge (x \notin A))) \vee ((x \notin A) \wedge (x \notin B))\}$

        Wenn man die Objektmengen dieser 3. Beziehungsart grafisch darstellt, ergibt sich folgende Abbildung:

        \begin{center}
          \scalebox{.6}{
            \begin{tikzpicture}[node distance=1.5cm]
              \node[circleC, scale=1.5](C) at (0,0) {\huge Menge C};
              \node[circleA, scale=0.75](A) at (-1.2,0) {Menge A};
              \node[circleB, scale=0.75](B) at (1.2,0) {Menge B};
            \end{tikzpicture}
          }
        \end{center}
\vspace{\baselineskip}
        \begin{center}
          \scalebox{.7}{
            \begin{tikzpicture}[node distance=1.5cm, every edge/.style={link}]
              \node[entity](obj1){Objekt 1};
              \node[isa](isa) [below = of obj1]{ISA} edge node[auto] {(0,1) (1,1) disjunkt}(obj1);
              \node[entity](obj2)[below left = of isa]{Objekt 2};
              \node[entity](obj3)[below right = of isa]{Objekt 3};
              \path[draw, -] (isa.west) -| (obj2.north);
              \path[draw, -] (isa.east) -| (obj3.north);
            \end{tikzpicture}
          }
        \end{center}
				Es wird wieder auf das Universit\"atsbeispiel zur\"uckgegriffen. Diesmal existieren in dem Supertyp keine Objekte, deren identifizierendes Attribut sowohl im Subtyp \enquote{Student} als auch im Subtyp \enquote{WiMa} vorkommt. Dies wird in den folgenden Tabellen gezeigt.

          \tablefirsthead{%
            \multicolumn{1}{l}{\textbf{Person\_ID}} &
            \multicolumn{1}{l}{\textbf{Vorname}} &
            \multicolumn{1}{l}{\textbf{Nachname}} &
            \multicolumn{1}{l}{\textbf{Geburtsdatum}}\\
          }
          \tablecaption{Person}
          \begin{supertabular}[h]{llll}
            1 & Heinz & Meier & 01.02.1990 \\
            2 & Michael & Schulz & 02.05.1980 \\
            3 & Frank & Bertling & 04.10.1981 \\
            4 & Hans & Fasshauer & 07.09.1991 \\
            5 & Tobias & Schreiber & 20.07.1983 \\
            6 & Martin & Speier & 21.08.1996 \\
          \end{supertabular}

          \tablefirsthead{%
            \multicolumn{1}{l}{\textbf{Person\_ID}} &
            \multicolumn{1}{l}{\textbf{Matrikelnummer}} \\
          }
          \tablecaption{Student}
          \begin{supertabular}[h]{lp{5cm}}
            1 & 65420\\
            4 & 66530\\
            5 & 66460\\
          \end{supertabular}
          \tablefirsthead{%
            \multicolumn{1}{l}{\textbf{Person\_ID}} &
            \multicolumn{1}{l}{\textbf{Gehalt}} \\
          }
          \tablecaption{WiMa}
          \begin{supertabular}[h]{lp{5cm}}
            2 & 3000\\
            3 & 3150\\
          \end{supertabular}

          Die Person mit der Person\_ID 6 kommt in den Subtypen nicht vor, da sie ein Praktikant ist und nur die Attribute des Supertyps in sich vereint.

          Es ergibt sich im Beispiel f\"ur den 3. Fall die folgende Abbildung:
          \begin{center}
            \scalebox{.6}{
              \begin{tikzpicture}
                \node[entity](obj1){Person};
                \node[isa](isa) [below = of obj1]{ISA} edge node[auto] {(0,1) (1,1) disjunkt}(obj1);
                \node[entity](obj2)[below left = of isa]{Student};
                \node[entity](obj3)[below right = of isa]{WiMa};
                \path[draw, -] (isa.west) -| (obj2.north);
                \path[draw, -] (isa.east) -| (obj3.north);
              \end{tikzpicture}
            }
          \end{center}
          \vspace{\baselineskip}
					\begin{center}
            \scalebox{.7}{
              \begin{tikzpicture}
                \node[circleC, scale=1.5](C) at (0,0) {\huge Menge C};
                \node[circleA, scale=0.75](A) at (-1.2,0) {Menge A};
                \node[circleB, scale=0.75](B) at (1.2,0) {Menge B};
              \end{tikzpicture}
            }
          \end{center}
      \subsection{Nicht vollst\"andige \"Uberdeckung und nicht Disjunkt}
        Wenn man die Objektmengen dieser 4. Beziehungsart grafisch darstellt, ergibt sich folgende Abbildung:
        \begin{center}
          \scalebox{.7}{
            \begin{tikzpicture}[node distance=1.5cm]
              \node[circleC, scale=1.5](C) at (0,0) {\huge Menge C};
              \node[circleA, scale=0.75](A) at (-1,0) {Menge A};
              \node[circleB, scale=0.75](B) at (1,0) {Menge B};
            \end{tikzpicture}
          }
        \end{center}
        In Fall Nummer 4 besteht die Obermenge C aus den beiden Teilmengen A und
        B, jedoch ist es m\"oglich, dass in der Menge C Elemente existieren, die
        nicht den Mengen A und B angeh\"oren. Da dieser Fall nicht disjunkt ist,
        ist eine Schnittmenge zwischen A und B vorhanden.
        \begin{center}
          \scalebox{.7}{
            \begin{tikzpicture}[node distance=1.5cm, every edge/.style={link}]
              \node[entity](obj1){Objekt 1};
              \node[isa](isa) [below = of obj1]{ISA} edge node[auto] {(0,1) (1,1)}(obj1);
              \node[entity](obj2)[below left = of isa]{Objekt 2};
              \node[entity](obj3)[below right = of isa]{Objekt 3};
              \path[draw, -] (isa.west) -| (obj2.north);
              \path[draw, -] (isa.east) -| (obj3.north);
            \end{tikzpicture}
          }
        \end{center}
        F\"ur den 4. Beziehungstyp wird erneut das Universit\"atsbeispiel herangezogen.
          \tablefirsthead{%
            \multicolumn{1}{l}{\textbf{Person\_ID}} &
            \multicolumn{1}{l}{\textbf{Klasse}} &
            \multicolumn{1}{l}{\textbf{Vorname}} &
            \multicolumn{1}{l}{\textbf{Nachname}} &
            \multicolumn{1}{l}{\textbf{Geburtsdatum}} \\
          }
          \tablecaption{Person}
          \begin{supertabular}[h]{lllll}
            1 & S & Heinz & Meier & 01.02.1990 \\
            2 & W & Michael & Schulz & 02.05.1980 \\
            3 & W & Frank & Bertling & 04.10.1981 \\
            4 & S & Hans & Fasshauer & 07.09.1991 \\
            5 & W & Tobias & Schreiber & 20.07.1983 \\
            6 & M & Kai & Sperling & 24.11.1980 \\
          \end{supertabular}

          \tablefirsthead{%
            \multicolumn{1}{l}{\textbf{Person\_ID}} &
            \multicolumn{1}{l}{\textbf{Matrikelnummer}} \\
          }
          \tablecaption{Student}
          \begin{supertabular}[h]{lp{5cm}}
            1 & 65420\\
            4 & 66530\\
            5 & 66460\\
          \end{supertabular}
          \tablefirsthead{%
            \multicolumn{1}{l}{\textbf{Person\_ID}} &
            \multicolumn{1}{l}{\textbf{Gehalt}} \\
          }
          \tablecaption{WiMa}
          \begin{supertabular}[h]{lp{5cm}}
            2 & 3000\\
            3 & 3150\\
            5 & 2900\\
          \end{supertabular}

          Hier wurde nun die Eigenschaft \enquote{Klasse} eingef\"uhrt. Diese wird ben\"otigt, um anzugeben, welches Objekt zu welcher Spezialisierung geh\"ort. Diese Eigenschaft wird auch als \enquote{diskriminierende Eigenschaft} bezeichnet.

          Die Person mit der Person\_ID 6 ist ein Mitarbeiter der Universit\"at und geh\"ort zu keinem der beiden Subtypen. Dieser Mitarbeiter vereint nur die Eigenschaften des Supertyps in sich. Als identifizierendes Attribut wird die Eigenschaft \enquote{Person\_ID} verwendet.

          Es ergibt sich f\"ur den 4. Fall im Beispiel die folgende Abbildung:

          \begin{center}
            \scalebox{.7}{
              \begin{tikzpicture}
                \node[entity](obj1){Person};
                \node[isa](isa) [below = of obj1]{ISA} edge node[auto] {(0,1) (1,1)}(obj1);
                \node[entity](obj2)[below left = of isa]{Student};
                \node[entity](obj3)[below right = of isa]{WiMa};
                \path[draw, -] (isa.west) -| (obj2.north);
                \path[draw, -] (isa.east) -| (obj3.north);
              \end{tikzpicture}
            }
          \end{center}

     \section{Generalisierung}
      Unter Generalisierung versteht man den Prozess der Gewinnung einer Obermenge aus mehreren \"ahnlichen Untermengen. Aus der gewonnenen Obermenge entsteht ein neuer Objekttyp, der durch diejenigen Eigenschaften beschrieben wird, die den \"ahnlichen Untermengen gemeinsam sind. Es handelt sich hierbei also um den Umkehrprozess zur Spezialisierung. Bei der Generalisierung handelt es sich um einen \enquote{Bottom-up-Ansatz}, zu dem die Spezialisierung den \enquote{Top-down-Ansatz} bildet. In der Praxis findet man oft die Kombination aus beiden Ans\"atzen.

      Gemeinsame Merkmale bzw. Eigenschaften von Objekttypen oder Subtypen werden identifiziert und zu einem einzigen Objekttyp (Obermenge) generalisiert.
      \subsection{Beispiel f\"ur die Generalisierung}
        Die Objekttypen \enquote{Student} und \enquote{WiMa} k\"onnen zum Objekttyp \enquote{Person} generalisiert werden. \enquote{Student} und \enquote{WiMa} sind jetzt Untermengen der generalisierten Obermenge \enquote{Person}. Bei der Generalisierung ist ebenfalls zu unterscheiden, ob bei den Mengen eine \"Uberdeckung und/oder eine \"Uberlappung m\"oglich sein soll (vgl. Fallunterscheidung bei Spezialisierung). Im ER-Modell sieht dieser Sachverhalt folgenderma\ss en aus:
        \begin{center}
          \scalebox{.7}{
            \begin{tikzpicture}
              \node[entity](obj1){Person};
              \node[isa90](isa) [below = of obj1]{ISA} edge node[auto] {(0,1) (1,1)}(obj1);
              \node[entity](obj2)[below left = of isa]{Student};
              \node[entity](obj3)[below right = of isa]{WiMa};
              \path[draw, -] (isa.west) -| (obj2.north);
              \path[draw, -] (isa.east) -| (obj3.north);
            \end{tikzpicture}
          }
        \end{center}
        Das Ergebnis der Generalisierung unterscheidet sich zur Spezialisierung nicht, es handelt sich wie oben beschrieben nur um zwei verschiedene Ans\"atze der Modellierung.

        F\"ur die Gerneralisierung gilt ebenfalls, dass es mehr als zwei Subtypen geben kann. In der grafischen Darstellung werden diese weiteren Subtypen an das Dreieck angeh\"angt. Im dargestellten Beispiel f\"ur die Gerneralisierung kann z.B. der Subtyp \enquote{Professor} angeh\"angt werden, um das Beispiel zu erweitern.

        W\"urde ein Objekttyp \enquote{Praktikant} in das Beispiel aufgenommen, ohne das ein eigener Subtyp f\"ur ihn geschaffen wird, m\"usste er im Objekttyp \enquote{Person} gespeichert werden, woraus folgt, dass das Beispiel keine vollst\"andige \"Uberdeckung mehr bietet. In der Mengendarstellung w\"are der \enquote{Praktikant} ausserhalb von \enquote{Student} und \enquote{WiMa} im Rechteck von \enquote{Person} zu finden.
\clearpage
